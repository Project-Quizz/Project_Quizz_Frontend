@model Project_Quizz_Frontend.Models.SoloQuizModel

@{
	ViewData["Title"] = "Solo Quiz";
}

<h2>@ViewData["Title"]</h2>

<!-- Display feedback message if an answer has been submitted -->
@if (TempData["FeedbackMessage"] != null)
{
	<div class="alert @(TempData["IsCorrect"].ToString() == "True" ? "alert-success" : "alert-danger")">
		@TempData["FeedbackMessage"]
	</div>
}

@if (Model.CurrentQuestion != null)
{
	<form asp-controller="SoloQuiz" asp-action="SubmitAnswer" method="post">
		<div class="form-group">
			<label>@Model.CurrentQuestion.QuestionText</label>
		</div>

		<div class="row">
			@foreach (var answer in Model.CurrentQuestion.Answers)
			{
				<div class="col-md-6 form-group">
					<div class="form-check">
						<input class="form-check-input" type="radio" name="selectedAnswerId" id="answer@answer.AnswerId" value="@answer.AnswerId" />
						<label class="form-check-label" for="answer@answer.AnswerId">@answer.AnswerText</label>
					</div>
				</div>
			}
		</div>

		<button type="submit" class="btn btn-primary" name="action" value="submit">Submit Answer</button>

		<!-- Only show the next question button if there is a next question -->
		@if (Model.HasNextQuestion)
		{
			<button type="submit" class="btn btn-success" name="action" value="next">Next Question</button>
		}
	</form>
}
else
{
	<div class="alert alert-info">Loading quiz...</div>
}

<a href="@Url.Action("Index", "Home")" class="btn btn-secondary">Go Home</a>